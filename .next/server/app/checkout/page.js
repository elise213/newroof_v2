(()=>{var e={};e.id=279,e.ids=[279],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},5960:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>i.a,__next_app__:()=>u,pages:()=>d,routeModule:()=>h,tree:()=>l});var s=t(260),n=t(8203),o=t(5155),i=t.n(o),a=t(7292),c={};for(let e in a)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>a[e]);t.d(r,c);let l=["",{children:["checkout",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,7734)),"/Users/mara/Desktop/projects/homesharing-next/src/app/checkout/page.js"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,2804)),"/Users/mara/Desktop/projects/homesharing-next/src/app/layout.js"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,9937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,9116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,1485,23)),"next/dist/client/components/unauthorized-error"]}],d=["/Users/mara/Desktop/projects/homesharing-next/src/app/checkout/page.js"],u={require:t,loadChunk:()=>Promise.resolve()},h=new s.AppPageRouteModule({definition:{kind:n.RouteKind.APP_PAGE,page:"/checkout/page",pathname:"/checkout",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},6762:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,3219,23)),Promise.resolve().then(t.t.bind(t,4863,23)),Promise.resolve().then(t.t.bind(t,5155,23)),Promise.resolve().then(t.t.bind(t,802,23)),Promise.resolve().then(t.t.bind(t,9350,23)),Promise.resolve().then(t.t.bind(t,8530,23)),Promise.resolve().then(t.t.bind(t,8921,23))},5218:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,6959,23)),Promise.resolve().then(t.t.bind(t,3875,23)),Promise.resolve().then(t.t.bind(t,8903,23)),Promise.resolve().then(t.t.bind(t,7174,23)),Promise.resolve().then(t.t.bind(t,4178,23)),Promise.resolve().then(t.t.bind(t,7190,23)),Promise.resolve().then(t.t.bind(t,1365,23))},494:(e,r,t)=>{Promise.resolve().then(t.bind(t,7734))},246:(e,r,t)=>{Promise.resolve().then(t.bind(t,6842))},372:(e,r,t)=>{Promise.resolve().then(t.bind(t,2804))},7988:(e,r,t)=>{Promise.resolve().then(t.bind(t,1123))},6842:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>w});var s,n=t(5512),o=t(8009),i="https://js.stripe.com/v3",a=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,c=function(){for(var e=document.querySelectorAll('script[src^="'.concat(i,'"]')),r=0;r<e.length;r++){var t=e[r];if(a.test(t.src))return t}return null},l=function(e){var r=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",t=document.createElement("script");t.src="".concat(i).concat(r);var s=document.head||document.body;if(!s)throw Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return s.appendChild(t),t},d=function(e,r){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"5.6.0",startTime:r})},u=null,h=null,p=null,m=function(e,r,t){if(null===e)return null;var s=e.apply(void 0,r);return d(s,t),s},v=!1,f=function(){return s||(s=(null!==u?u:(u=new Promise(function(e,r){if("undefined"==typeof window||"undefined"==typeof document){e(null);return}if(window.Stripe,window.Stripe){e(window.Stripe);return}try{var t,s=c();s?s&&null!==p&&null!==h&&(s.removeEventListener("load",p),s.removeEventListener("error",h),null===(t=s.parentNode)||void 0===t||t.removeChild(s),s=l(null)):s=l(null),p=function(){window.Stripe?e(window.Stripe):r(Error("Stripe.js not available"))},h=function(){r(Error("Failed to load Stripe.js"))},s.addEventListener("load",p),s.addEventListener("error",h)}catch(e){r(e);return}})).catch(function(e){return u=null,Promise.reject(e)})).catch(function(e){return s=null,Promise.reject(e)}))};Promise.resolve().then(function(){return f()}).catch(function(e){v||console.warn(e)});var x=t(888),j=t(1609),g=t(2486),b=t(6416),k=t(8531),y=t.n(k);let P=function(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];v=!0;var s=Date.now();return f().then(function(e){return m(e,r,s)})}("pk_live_51Q08RhFOQNBOjDBouLBpSTTaji5QAdkcnanUMxsgy4N9rHEsBYsfU2vRo2kD3RKf06SBZoG3VrxMl4eT0UWeaB1S00n0eGJnBS"),w=()=>{let{store:e,actions:r}=(0,o.useContext)(x.o),[t,s]=(0,o.useState)(0),[i,a]=(0,o.useState)(!1);(0,o.useEffect)(()=>{s(e.cart.reduce((e,r)=>e+r.price,0))},[e.cart]);let c=async()=>{console.log("Starting checkout with cart:",e.cart);let r=await P;if(!r){console.error("Stripe failed to initialize"),alert("Stripe initialization failed. Please try again.");return}try{let t=await fetch("/api/checkout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({cart:e.cart})});if(!t.ok){let e=await t.text();throw Error(`Backend error: ${e}`)}let s=await t.json();if(console.log("Backend response:",s),!s.sessionId)throw Error("sessionId not found in the backend response.");let n=await r.redirectToCheckout({sessionId:s.sessionId});n.error&&(console.error("Stripe redirect error:",n.error.message),alert("There was an error with Stripe checkout. Please try again."))}catch(e){console.error("Error during checkout:",e.message),alert("Failed to start checkout. Check the console for details.")}};return(0,n.jsxs)("div",{className:"checkoutPage",children:[(0,n.jsx)(y(),{href:"/",children:(0,n.jsx)(g.default,{startIcon:(0,n.jsx)(b.default,{}),className:"backButton",children:"Back to Shop"})}),e.cart.length>0?(0,n.jsxs)("div",{className:"cartDiv",children:[(0,n.jsx)("ul",{children:e.cart.map((e,t)=>(0,n.jsxs)("li",{children:[(0,n.jsxs)("span",{className:"name-checkout",children:[e.name," Housing Group"]}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("span",{className:"price-checkout",children:["$",e.price]}),(0,n.jsx)("button",{className:"remove-cart",onClick:()=>r.removeFromCart(e.id),title:`Remove ${e.name} from your cart`,children:"X"})]})]},t))}),(0,n.jsxs)("div",{className:"total-div",children:[(0,n.jsx)("span",{children:" Billed Annually"}),(0,n.jsxs)("span",{className:"total",children:["Total: $",t]})]}),(0,n.jsxs)("div",{className:"termsDiv",children:[(0,n.jsx)("input",{type:"checkbox",className:"terms_checkbox",checked:i,onChange:()=>a(!i),style:{accentColor:"white"}}),(0,n.jsxs)("span",{className:"terms",children:["To proceed with your purchase, it's important to understand the"," ",(0,n.jsx)(y(),{className:"terms-link",href:"/terms",children:"rules and terms"})," ","of the group. By checking this box, you are agreeing to these terms."]})]}),i?(0,n.jsx)("button",{className:"addToCart",style:{borderRadius:"4px",margin:"13px 0",alignSelf:"center"},onClick:c,children:"Proceed to Payment"}):(0,n.jsx)("div",{style:{margin:"23px"}})]}):(0,n.jsx)("p",{style:{color:"black"},children:"Your cart is empty."}),(0,n.jsx)(j.w,{})]})}},1609:(e,r,t)=>{"use strict";t.d(r,{w:()=>a});var s=t(5512),n=t(8531),o=t.n(n),i=t(5103);let a=()=>(0,s.jsxs)("footer",{className:"footer",children:[(0,s.jsx)("div",{className:"footer-div-1",children:(0,s.jsxs)("div",{className:"sitemap",children:[(0,s.jsx)(o(),{href:"/",children:"HOME"}),(0,s.jsx)("a",{href:"https://billing.stripe.com/p/login/5kA9BZ1aE7ZDgAo9AA",children:"ACCOUNT"}),(0,s.jsx)(o(),{href:"/terms",children:"RULES & TERMS"}),(0,s.jsxs)(o(),{href:"/contact",children:["CONTACT",(0,s.jsx)(i.default,{className:"whats",src:"/img/WhatsApp.svg.png",alt:"WhatsApp Icon",width:24,height:24})]})]})}),(0,s.jsxs)("div",{className:"footer-div-2",children:[(0,s.jsx)("p",{className:"footer-text",children:"RICKY'S HOMESHARING"}),(0,s.jsx)("p",{style:{fontSize:"12px",color:"white"},children:"\xa9 2025 Ricky's Homesharing, All Rights Reserved"})]})]})},1123:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>o});var s=t(5512);t(8531),t(4263);var n=t(888);function o({children:e}){let r=(0,n.A)(({children:e})=>(0,s.jsx)(s.Fragment,{children:e}));return(0,s.jsx)("html",{lang:"en",children:(0,s.jsx)("body",{children:(0,s.jsx)(r,{children:(0,s.jsx)("main",{children:e})})})})}},888:(e,r,t)=>{"use strict";t.d(r,{o:()=>a,A:()=>c});var s=t(5512),n=t(8009),o=t.n(n);let i=({getStore:e,getActions:r,setStore:t})=>({store:{cart:[]},actions:{addToCart:r=>{let s=[...e().cart,r];t({cart:s}),localStorage.setItem("cart",JSON.stringify(s))},removeFromCart:r=>{let s=e().cart.filter(e=>e.id!==r);t({cart:s}),localStorage.setItem("cart",JSON.stringify(s))},clearCart:()=>{t({cart:[]}),localStorage.removeItem("cart")}}}),a=o().createContext(null),c=e=>r=>{let[t,o]=(0,n.useState)(i({getStore:()=>t.store,getActions:()=>t.actions,setStore:e=>o({store:Object.assign(t.store,e),actions:{...t.actions}})}));return(0,s.jsx)(a.Provider,{value:t,children:(0,s.jsx)(e,{...r})})}},7734:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s});let s=(0,t(6760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/mara/Desktop/projects/homesharing-next/src/app/checkout/page.js\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/mara/Desktop/projects/homesharing-next/src/app/checkout/page.js","default")},2804:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s});let s=(0,t(6760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/mara/Desktop/projects/homesharing-next/src/app/layout.js\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/mara/Desktop/projects/homesharing-next/src/app/layout.js","default")},4263:()=>{}};var r=require("../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[638,33,391,103],()=>t(5960));module.exports=s})();